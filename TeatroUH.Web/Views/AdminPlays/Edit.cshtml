@model TeatroUH.Domain.Entities.Play
@{
    ViewData["Title"] = "Editar Obra";
}

<div class="p-8 max-w-3xl">
    <h1 class="text-3xl font-bold text-white">Editar Obra</h1>

    <form asp-action="Edit"
          asp-route-id="@Model.PlayId"
          method="post"
          enctype="multipart/form-data"
          class="mt-6 space-y-4">

        @Html.AntiForgeryToken()
        <input type="hidden" name="id" value="@Model.PlayId" />

        <div class="text-red-400">@Html.ValidationSummary()</div>

        <div>
            <label class="block text-gray-300 mb-1">Título</label>
            <input asp-for="Title" class="w-full p-2 rounded bg-black/30 border border-gray-700 text-white" />
            <span class="text-red-400 text-sm" asp-validation-for="Title"></span>
        </div>

        <div>
            <label class="block text-gray-300 mb-1">Descripción</label>
            <textarea asp-for="Description" rows="4"
                      class="w-full p-2 rounded bg-black/30 border border-gray-700 text-white"></textarea>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div>
                <label class="block text-gray-300 mb-1">Duración (min)</label>
                <input asp-for="DurationMinutes" type="number"
                       class="w-full p-2 rounded bg-black/30 border border-gray-700 text-white" />
            </div>

            <div>
                <label class="block text-gray-300 mb-1">Clasificación</label>
                <input asp-for="Rating"
                       class="w-full p-2 rounded bg-black/30 border border-gray-700 text-white" />
            </div>
        </div>

        <div>
            <label class="block text-gray-300 mb-1">Imagen actual</label>

            <img src="@(string.IsNullOrWhiteSpace(Model.ImageUrl) ? "https://via.placeholder.com/300x200" : Model.ImageUrl)"
                 class="w-72 h-44 object-cover rounded border border-gray-700"
                 alt="Imagen actual" />
        </div>

        <div>
            <label class="block text-gray-300 mb-1">Cambiar imagen (opcional)</label>
            <input type="file" name="imageFile" accept=".jpg,.jpeg,.png,.webp"
                   class="w-full p-2 rounded bg-black/30 border border-gray-700 text-white" />
        </div>

        <div class="flex items-center gap-2">
            <input asp-for="IsActive" type="checkbox" class="w-4 h-4" />
            <label class="text-gray-300">Activa</label>
        </div>

        <div class="flex gap-2">
            <button class="px-4 py-2 rounded bg-[#B89B5E] text-black font-bold">Guardar cambios</button>
            <a asp-action="Index" class="px-4 py-2 rounded bg-black/30 border border-gray-700 text-gray-200">Cancelar</a>
        </div>
    </form>
</div>
